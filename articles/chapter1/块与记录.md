<p>
    块与记录
</p>
<p>
    相信学过计算机组成原理或者操作系统的同学都知道“段-页式存储结构”。
</p>
<p>
    段页式存储管理方式即先将用户程序分成若干个段，再把每个段分成若干个页，并为每一个段赋予一个段名，其解决的问题就是：每块空间大小固定，方便整理。
</p>
<p>
    <strong>分段存储管理</strong>
</p>
<p>
    1.基本思想
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;页面是主存物理空间中划分出来的等长的固定区域。分页方式的优点是页长固定，因而便于构造页表、易于管理，且不存在外碎片。但分页方式的缺点是页长与程序的逻辑大小不相关。例如，某个时刻一个子程序可能有一部分在主存中，另一部分则在辅存中。这不利于编程时的独立性，并给换入换出处理、存储保护和存储共享等操作造成麻烦。
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;另一种划分可寻址的存储空间的方法称为分段。段是按照程序的自然分界划分的长度可以动态改变的区域。通常，程序员把子程序、操作数和常数等不同类型的数据划分到不同的段中，并且每个程序可以有多个相同类型的段。 段表本身也是一个段，可以存在辅存中，但一般是驻留在主存中。
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;将用户程序地址空间分成若干个大小不等的段，每段可以定义一组相对完整的逻辑信息。存储分配时，以段为单位，段与段在内存中可以不相邻接，也实现了离散分配。
</p>
<p>
    2.&nbsp;分段地址结构
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;作业的地址空间被划分为若干个段，每个段定义了一组逻辑信息。例程序段、数据段等。每个段都从0开始编址，并采用一段连续的地址空间。段的长度由相应的逻辑信息组的长度决定，因而各段长度不等。整个作业的地址空间是二维的。
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;在段式虚拟存储系统中，虚拟地址由段号和段内地址组成，虚拟地址到实存地址的变换通过段表来实现。每个程序设置一个段表，段表的每一个表项对应一个段，每个表项至少包括三个字段：有效位（指明该段是否已经调入主存）、段起址(该段在实存中的首地址)和段长（记录该段的实际长度）。
</p>
<p>
    3.&nbsp;地址变换
</p>
<p>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;针对每一个虚拟地址，存储管理部件首先以段号S为索引访问段表的第S个表项。若该表项的有效位为1，则将虚拟地址的段内地址D与该表项的段长字段比较；若段内地址较大则说明地址越界，将产生地址越界中断；否则，将该表项的段起址与段内地址相加，求得主存实地址并访存。如果该表项的有效位为0，则产生缺页中断，从辅存中调入该页，并修改段表。
</p>
<p>
    <br/>
</p>